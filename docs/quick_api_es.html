---
layout: default
title: API Rápida
description: Referencia rápida para utilizar InsideForest.
nav_order: 3
nav_exclude: true
lang: es
---

<h1>API Rápida</h1>
<p>Esta guía resume los patrones esenciales de uso de InsideForest para clasificación y regresión. Las clases mantienen la convención <code>fit</code>/<code>predict</code> de <code>scikit-learn</code>.</p>

<h2>Flujo para clasificación</h2>
<pre><code class="language-python">from sklearn.datasets import load_iris
from InsideForest import InsideForestClassifier

X, y = load_iris(return_X_y=True)
clf = InsideForestClassifier(
    rf_params={"n_estimators": 400, "random_state": 21},
    auto_fast=True,
)
clf.fit(X, y)
labels = clf.predict(X)
resumen = clf.describe_clusters(X, y)
</code></pre>
<p>Recuerda explorar <code>clf.feature_importances_</code> y <code>clf.plot_importances()</code> para comunicar qué variables generan cada segmento.</p>

<h2>Flujo para regresión</h2>
<pre><code class="language-python">from sklearn.datasets import fetch_california_housing
from InsideForest import InsideForestRegressor

data = fetch_california_housing()
regr = InsideForestRegressor(auto_feature_reduce=True)
regr.fit(data.data, data.target)
pred = regr.predict(data.data)
reglas = regr.describe_clusters(data.data, data.target)
</code></pre>
<p>El parámetro <code>auto_feature_reduce</code> elimina variables poco informativas antes de generar las regiones.</p>

<h2>Estrategias de selección de clústeres</h2>
<pre><code class="language-python">from InsideForest import ClusterSelector

selector = ClusterSelector("match_class_distribution")
ajustado = selector.select(clf.menu_, y)
</code></pre>
<ul>
  <li><code>"select_clusters"</code>: selección directa basada en reglas.</li>
  <li><code>"balance_lists_n_clusters"</code>: reparte observaciones de forma uniforme.</li>
  <li><code>"max_prob_clusters"</code>: prioriza segmentos con probabilidad alta.</li>
  <li><code>"menu"</code> y <code>"match_class_distribution"</code>: preservan proporciones entre clases.</li>
</ul>

<h2>Persistencia de modelos</h2>
<pre><code class="language-python">clf.save("modelo.joblib")
cargado = InsideForestClassifier.load("modelo.joblib")
assert cargado._fast_params_used_ == clf._fast_params_used_
</code></pre>
<p>La carga restaura tanto el bosque entrenado como las regiones calculadas, permitiendo continuar con predicciones y análisis.</p>

<h2>¿Qué sigue?</h2>
<ul>
  <li>Lee <a href="how_it_works_es.html">Cómo funciona</a> para profundizar en árboles, regiones y etiquetas.</li>
  <li>Visita la <a href="api/index_es.html">referencia completa</a> para conocer cada módulo disponible.</li>
  <li>Antes de ejecutar experimentos intensivos, revisa <a href="performance_tips_es.html">consejos de rendimiento</a>.</li>
</ul>
