---
layout: default
title: Architecture
parent: Guides
nav_order: 11
---

<h1>Architecture</h1>
<p>InsideForest is organized into layers that separate rule extraction, region prioritization, and reporting.</p>

<h2>Main layers</h2>
<ol>
  <li><strong>Forest layer:</strong> <code>scikit-learn</code> or PySpark forests managed by <code>Trees</code>.</li>
  <li><strong>Region layer:</strong> <code>Regions</code> merges rules, computes metrics, and creates ranges.</li>
  <li><strong>Label layer:</strong> <code>Labels</code> and the helpers in <code>cluster_selector</code> consolidate clusters.</li>
  <li><strong>Utility layer:</strong> <code>Models</code> and <code>Metadata</code> document outputs.</li>
</ol>

<h2>Data flow</h2>
<ol>
  <li>The user trains or supplies a forest.</li>
  <li><code>Trees</code> extracts rules and converts them into tabular structures.</li>
  <li><code>Regions</code> computes metrics, prioritizes, and builds regions.</li>
  <li><code>cluster_selector</code> helpers consolidate clusters based on the selected strategy.</li>
  <li><code>Labels</code>, <code>Models</code>, and <code>Metadata</code> produce final reports.</li>
</ol>

<h2>Extensibility</h2>
<ul>
  <li>Add new backends by implementing the <code>Trees</code> interface.</li>
  <li>Define custom strategies by extending <code>cluster_selector</code> utilities.</li>
  <li>Extend reporting by adding methods to <code>Labels</code> or <code>Metadata</code>.</li>
</ul>

<p>Continue with <a href="configuration.html">Configuration</a> to learn how to tune parameters and with the <a href="../api/index.html">API reference</a> for detailed module docs.</p>
