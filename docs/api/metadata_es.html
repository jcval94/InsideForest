---
layout: default
title: Metadata
parent: InsideForest
nav_order: 58
nav_exclude: true
lang: es
---

<h1>Utilidades de metadatos</h1>
<p>El módulo <code>InsideForest.metadata</code> conecta las descripciones de clúster con el catálogo de datos de tu organización para auditar recomendaciones y planear experimentos.</p>

<h2>Herramientas principales</h2>
<ul>
  <li><code>MetaExtractor</code>: vincula los tokens presentes en <code>cluster_description</code> con filas del catálogo y limita las columnas según el perfil seleccionado en <code>Profile</code>.</li>
  <li><code>parse_rule_string</code>, <code>token_from_condition</code> y <code>conditions_to_tokens</code>: dividen reglas en condiciones individuales y tokens reutilizables.</li>
  <li><code>experiments_from_df2</code> y <code>run_experiments</code>: generan hipótesis contrastando clústeres y priorizan dónde intervenir.</li>
</ul>

<h2>Ejemplo</h2>
<pre><code class="language-python">import pandas as pd
from InsideForest import MetaExtractor, Profile, run_experiments

metadata_df = tabla_perfil.set_index("variable_id")  # incluye la fila de la variable objetivo
mx = MetaExtractor(metadata_df, var_obj="target")

catalogo = mx.extract(
    clf.df_clusters_description_,
    profile=Profile.BUSINESS,
)

registros = df_entrenamiento.copy()
registros["target"] = y
hipotesis = run_experiments(
    mx,
    {"iris": clf.df_clusters_description_},
    data_dict={"iris": registros},
)
</code></pre>

<p><strong>Nota:</strong> el catálogo de metadatos debe estar indexado por los tokens presentes en <code>cluster_description</code> y contener la fila de la variable objetivo. Las tablas detalladas <code>df_clusters_description_</code> y <code>df_datos_explain_</code> se generan cuando ajustas el estimador con <code>get_detail=True</code>. Combina estos reportes con los activos de la guía de <a href="../reproducibility_es.html">Reproducibilidad</a>.</p>
